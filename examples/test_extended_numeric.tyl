// Test Extended Numeric Types
// Tests: BigInt, Rational, Fixed-point, Vec3

fn main() {
    print("=== Extended Numeric Types Test ===\n")
    
    // Test BigInt
    print("\n--- BigInt Tests ---\n")
    let big1 = bigint(12345)
    let big2 = bigint(67890)
    let big_sum = bigint_add(big1, big2)
    let big_result = bigint_to_int(big_sum)
    print("BigInt: 12345 + 67890 = ")
    print(big_result)
    print("\n")
    
    // Test negative BigInt
    let big_neg = bigint(-100)
    let big_pos = bigint(250)
    let big_mixed = bigint_add(big_neg, big_pos)
    let mixed_result = bigint_to_int(big_mixed)
    print("BigInt: -100 + 250 = ")
    print(mixed_result)
    print("\n")
    
    // Test Rational
    print("\n--- Rational Tests ---\n")
    let rat_half = rational(1, 2)
    let rat_third = rational(1, 3)
    let rat_sum = rational_add(rat_half, rat_third)
    print("Rational: 1/2 + 1/3 = ")
    let rat_result = rational_to_float(rat_sum)
    print(rat_result)
    print(" (expected ~0.833)\n")
    
    // Test Fixed-point
    print("\n--- Fixed-Point Tests ---\n")
    let f1 = fixed(3.14159)
    let f2 = fixed(2.71828)
    let f_sum = fixed_add(f1, f2)
    let f_result = fixed_to_float(f_sum)
    print("Fixed: 3.14159 + 2.71828 = ")
    print(f_result)
    print("\n")
    
    let f_diff = fixed_sub(f1, f2)
    let f_diff_result = fixed_to_float(f_diff)
    print("Fixed: 3.14159 - 2.71828 = ")
    print(f_diff_result)
    print("\n")
    
    let f_prod = fixed_mul(f1, f2)
    let f_prod_result = fixed_to_float(f_prod)
    print("Fixed: 3.14159 * 2.71828 = ")
    print(f_prod_result)
    print("\n")
    
    // Test Vec3
    print("\n--- Vec3 Tests ---\n")
    let v1 = vec3(1.0, 2.0, 3.0)
    let v2 = vec3(4.0, 5.0, 6.0)
    
    let v_sum = vec3_add(v1, v2)
    print("Vec3 add: (1,2,3) + (4,5,6) computed\n")
    
    let dot = vec3_dot(v1, v2)
    print("Vec3 dot: (1,2,3) . (4,5,6) = ")
    print(dot)
    print(" (expected 32)\n")
    
    let len = vec3_length(v1)
    print("Vec3 length: |(1,2,3)| = ")
    print(len)
    print(" (expected ~3.742)\n")
    
    // Test unit vector length
    let unit = vec3(1.0, 0.0, 0.0)
    let unit_len = vec3_length(unit)
    print("Vec3 unit length: |(1,0,0)| = ")
    print(unit_len)
    print(" (expected 1.0)\n")
    
    print("\n=== All Tests Complete ===\n")
}
